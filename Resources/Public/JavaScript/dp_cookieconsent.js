const k=`<div class="cc-body" id="cookieconsent:body">\r
    <span class="cc-message" id="cookieconsent:desc">\r
        {{description}}\r
        {{selection}}\r
    </span>\r
    <div class="cc-compliance cc-highlight">\r
        {{allow-all}}\r
        {{allow}}\r
        {{deny}}\r
    </div>\r
</div>`,v=`<div class="cc-body" id="cookieconsent:body">\r
    <span class="cc-message" id="cookieconsent:desc">\r
        {{description}}\r
    </span>\r
    <div class="cc-compliance cc-highlight">\r
        {{allow-all}}\r
        {{config}}\r
        {{deny}}\r
    </div>\r
</div>`,b=`<div class="dp--cookie-check">\r
    <label for="dp--cookie-require">\r
        <input type="checkbox" id="dp--cookie-require" class="dp--check-box" checked="checked" disabled="disabled" tabindex="-1" />\r
        {{dpRequire}}\r
    </label>\r
    <label for="dp--cookie-statistics">\r
        <input type="checkbox" id="dp--cookie-statistics" class="dp--check-box" {{checked.statistics}} value="" tabindex="1" />\r
        {{dpStatistik}}\r
    </label>\r
    <label for="dp--cookie-marketing">\r
        <input type="checkbox" id="dp--cookie-marketing" class="dp--check-box" {{checked.marketing}} value="" tabindex="1" />\r
        {{dpMarketing}}\r
    </label>\r
</div>\r
`,y=`{{message}}\r
\r
<a class="cc-link"\r
   role=button\r
   tabindex="1"\r
   href="{{href}}"\r
   rel="noopener noreferrer nofollow"\r
   target="{{target}}"\r
>\r
    {{link}}\r
</a>\r
`,g=`<button class="cc-btn cc-allow-all cc-w-100" tabindex="2">\r
    {{allow-all}}\r
</button>\r
`,m=`<button class="cc-btn cc-allow" tabindex="2">\r
    {{allow}}\r
</button>\r
`,w=`<button class="cc-btn cc-dismiss" tabindex="2">\r
    {{dismiss}}\r
</button>\r
`,x=`<button class="cc-btn cc-deny" tabindex="2">\r
    {{deny}}\r
</button>\r
`,E=`<button class="cc-btn cc-config" tabindex="2">\r
    {{config}}\r
</button>\r
`,C=`<div class="dp--revoke {{classes}}">\r
    <i class="dp--icon-fingerprint"></i>\r
    <span class="dp--hover">{{policy}}</span>\r
</div>\r
`,A=`<div class="dp--overlay-inner">\r
    <div class="dp--overlay-header">{{notice}}</div>\r
    <div class="dp--overlay-description">{{desc}}</div>\r
    <div class="dp--overlay-button">\r
        <button class="db--overlay-submit" onclick="window.DPCookieConsent.forceAccept(this)" data-cookieconsent="{{type}}" {{style}}>\r
            {{btn}}\r
        </button>\r
    </div>\r
</div>\r
`,B='<div aria-describedby="cookieconsent:desc" aria-label="cookieconsent" aria-live="polite" class="cc-window {{classes}}" id="cookieconsent:window" role="dialog"></div>';/*!
  * Cookie Consent
  * Copyright 2021 Dirk Persky (https://github.com/DirkPersky/npm-dp_cookieconsent/issues)
  * Licensed under AGPL v3+ (https://github.com/DirkPersky/npm-dp_cookieconsent/blob/master/LICENSE)
  */(function(n,L){if(!n.hasInitialised){(function(){if(typeof window.CustomEvent=="function")return!1;function s(o,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(o,e.bubbles,e.cancelable,e.detail),t}s.prototype=window.Event.prototype,window.CustomEvent=s})(),function(){if(typeof window.Event=="function")return!1;function s(o,e){e=e||{bubbles:!0,cancelable:!0,detail:void 0};var t=document.createEvent("Event");return t.initEvent(o,e.bubbles,e.cancelable,e.detail),t}s.prototype=window.Event.prototype,window.Event=s}();var l={detectRobot:function(s){return new RegExp([/Chrome-Lighthouse/,/bot/,/spider/,/crawl/,/APIs-Google/,/AdsBot/,/Googlebot/,/mediapartners/,/Google Favicon/,/FeedFetcher/,/Google-Read-Aloud/,/DuplexWeb-Google/,/googleweblight/,/bing/,/yandex/,/baidu/,/duckduck/,/yahoo/,/ecosia/,/ia_archiver/,/semrush/].map(e=>e.source).join("|"),"i").test(s)},reformatCheckboxOptions:function(s){var o=Object.entries(s).map(e=>{var t=String(e[1]).toLowerCase()=="true";return{name:e[0],checked:t}});return o},getCookie:function(s){var o="; "+document.cookie,e=o.split("; "+s+"=");return e.length<2?void 0:JSON.parse(e.pop().split(";").shift())},setCookie:function(s,o,e,t,i,a){var r=new Date;r.setHours(r.getHours()+(e||365)*24);var c=[s+"="+JSON.stringify(o),"expires="+r.toUTCString(),"path="+(i||"/"),"SameSite=Strict"];t&&c.push("domain="+t),a&&c.push("secure"),document.cookie=c.join(";")},prepareCookie:function(s,o){var e={status:"open"},t=this.getCookie(o);return typeof t<"u"&&this.deepExtend(e,t),this.deepExtend(e,s),{exists:typeof t<"u",config:e}},getElementsByTag:function(s,o){return typeof o>"u"&&(o="data-cookieconsent"),document.querySelectorAll(s+"["+o+"]")},deepExtend:function(s,o){for(var e in o)o.hasOwnProperty(e)&&(e in s&&typeof s[e]=="object"&&typeof o[e]=="object"?this.deepExtend(s[e],o[e]):s[e]=o[e]);return s},appendElement:function(s,o){var e=document.createElement("div"),t=o??document.body;e.innerHTML=this.replaceContent(s);var i=e.children[0];return t.appendChild(i),i},applyStyle:function(s){if(!(typeof this.options[s]>"u"))for(const[o,e]of Object.entries(this.options[s]))for(const[t,i]of Object.entries(e))document.documentElement.style.setProperty(`--dp-cookie-${s}-${o}-${t}`,i)},fireEvent:function(s,o){var e;o?e=new CustomEvent(s,{detail:{$el:o}}):e=new Event(s),document.dispatchEvent(e)}};n.utils=l;var u=function(){var s={cookie:{name:"dp_cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},position:"bottom-right",content:{},theme:"edgeless",type:"opt-in",revokable:!0,reloadOnRevoke:!0,checkboxes:[{name:"statistics",checked:!1},{name:"marketing",checked:!1}],palette:{popup:{background:"rgba(0,0,0,0.8)",text:"#ffffff"},button:{background:"#f96332",text:"#ffffff"}},overlay:{notice:!0,box:{background:"rgba(0,0,0,0.8)",text:"#ffffff"},btn:{background:"#f96332",text:"#ffffff"}},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(){},onStatusChange:function(e,t){},onRevokeChoice:function(){},compilance:{"opt-in":k,extend:v},revokeBtn:C,overlayLayout:A,wrap:B,elements:{"allow-all":g,allow:m,dismiss:w,deny:x,config:E,selection:b,description:y}};function o(){}return o.prototype.replaceContent=function(e){var t=this.options,i=["cc-"+t.position,"cc-type-"+t.type,"cc-theme-"+t.theme,"cc-hide"];e=e.replace("{{classes}}",i.join(" "));for(const[a,r]of Object.entries(t.elements))e=e.replace("{{"+a+"}}",r);for(const[a,r]of Object.entries(t.content))e=e.replace("{{"+a+"}}",r);return e},o.prototype.templateOverwrites=function(){let e=n.utils.getElementsByTag("script","data-dp-cookieRevoke");e.length>0&&(this.options.revokeBtn=e[0].innerHTML);let t=n.utils.getElementsByTag("script","data-dp-cookieDesc");t.length>0&&(this.options.elements.description=t[0].innerHTML);let i=n.utils.getElementsByTag("script","data-dp-cookieSelect");i.length>0&&(this.options.elements.selection=i[0].innerHTML)},o.prototype.initialise=function(e){l.deepExtend(this.options={},s),typeof e.checkboxes=="object"&&(e.checkboxes=l.reformatCheckboxOptions(e.checkboxes)),typeof e=="object"&&l.deepExtend(this.options,e);var t=this.options.onInitialise.bind(this);this.templateOverwrites(),this.options.revokable&&(this.revokeBtn=n.utils.appendElement.call(this,this.options.revokeBtn)),this.window=n.utils.appendElement.call(this,this.options.wrap),n.utils.applyStyle.call(this,"palette"),n.utils.applyStyle.call(this,"overlay"),this.addCompilance(this.window),t(this),this.bindBtns(),this.presetCheckboxes()},o.prototype.presetCheckboxes=function(){var e=n.utils.getCookie(this.options.cookie.name);typeof e<"u"&&l.deepExtend(this.options.checkboxes,e.checkboxes);var t=this.compilance.querySelectorAll("input");t.length>0&&t.forEach(i=>{var a=i.id;a=a.replace("dp--cookie-",""),this.options.checkboxes.map((r,c)=>{r.name==a&&(i.checked=r.checked)})})},o.prototype.addCompilance=function(e){var t=this.options.compilance["opt-in"];typeof this.options.compilance[this.options.type]<"u"&&(t=this.options.compilance[this.options.type]),this.compilance=n.utils.appendElement.call(this,t,e),this.allowAllBtn=this.compilance.getElementsByClassName("cc-allow-all"),this.allowBtn=this.compilance.getElementsByClassName("cc-allow"),this.denyBtn=this.compilance.getElementsByClassName("cc-deny"),this.dismissBtn=this.compilance.getElementsByClassName("cc-dismiss")},o.prototype.bindBtns=function(){this.allowAllBtn.length>0&&(this.allowAllBtn[0].onclick=()=>this.allowAll.call(this)),this.allowBtn.length>0&&(this.allowBtn[0].onclick=()=>this.allow.call(this)),this.dismissBtn.length>0&&(this.dismissBtn[0].onclick=()=>this.allow.call(this)),this.denyBtn.length>0&&(this.denyBtn[0].onclick=()=>this.denyAll.call(this)),this.revokeBtn&&(this.revokeBtn.onclick=()=>this.revoke.call(this))},o.prototype.allowAll=function(){var e=this.compilance.querySelectorAll("input");e.length>0&&e.forEach(t=>{var i=t.id;i=i.replace("dp--cookie-",""),this.options.checkboxes.map((a,r)=>{a.name==i&&(t.checked=!0)})}),n.utils.fireEvent("dp--cookie-accept"),this.save()},o.prototype.denyAll=function(){var e=this.compilance.querySelectorAll("input");e.length>0&&e.forEach(t=>{var i=t.id;i=i.replace("dp--cookie-",""),this.options.checkboxes.map((a,r)=>{a.name==i&&(t.checked=!1)})}),n.utils.fireEvent("dp--cookie-deny"),this.save()},o.prototype.allow=function(){n.utils.fireEvent("dp--cookie-accept"),this.save()},o.prototype.saveCheckboxes=function(e,t){this.options.checkboxes.map((i,a)=>{i.name==e&&(this.options.checkboxes[a].checked=t)})},o.prototype.save=function(){var e=this.compilance.querySelectorAll("input");e.length>0&&e.forEach(t=>{var i=t.id;i=i.replace("dp--cookie-",""),this.saveCheckboxes(i,t.checked)}),this.close()},o.prototype.hasChanged=function(){var e=!1;return typeof this.originalCookie>"u"||typeof this.originalCookie.checkboxes>"u"?!1:(this.originalCookie.checkboxes.map((t,i)=>{var a=this.options.checkboxes[i];if(t.checked===!0&&(!a||a.checked==!1)){e=!0;var r=this.options.onStatusChange.bind(this);r(a,t)}}),e)},o.prototype.hasConsent=function(){var e=n.utils.getCookie(this.options.cookie.name);return!(typeof e>"u"||e.status=="open")},o.prototype.saveCookie=function(e){var t=n.utils.prepareCookie(e,this.options.cookie.name);!t.exists&&t.config.status=="open"||(n.utils.setCookie(this.options.cookie.name,t.config,this.options.cookie.expiryDays,this.options.cookie.domain,this.options.cookie.path,this.options.cookie.secure),this.hasConsent()&&this.hasChanged()&&this.options.reloadOnRevoke&&location.reload())},o.prototype.revoke=function(){var e=this.options.onRevokeChoice.bind(this);e(this),n.utils.fireEvent("dp--cookie-revoke"),this.open()},o.prototype.open=function(){this.revokeBtn&&this.revokeBtn.classList.add("cc-hide"),this.window.classList.remove("cc-hide"),this.originalCookie=n.utils.getCookie(this.options.cookie.name);var e=this.options.onPopupOpen.bind(this);e(this),this.saveCookie({status:"open"}),document.querySelector("body").classList.add("dp--cookie-consent")},o.prototype.close=function(){this.window.classList.add("cc-hide"),this.revokeBtn&&this.revokeBtn.classList.remove("cc-hide");var e=this.options.onPopupClose.bind(this);e(this),this.saveCookie({status:"approved",checkboxes:this.options.checkboxes}),document.querySelector("body").classList.remove("dp--cookie-consent"),this.execute()},o.prototype.execute=function(){n.Handler.execute(this.options.checkboxes),n.Overlay.execute(this.options.checkboxes)},new o}();n.popup=u;var f=function(){function s(){}return s.prototype.overlays=function(){n.popup.options.overlay.notice&&(this.templateOverwrites(),this.overlaysView("iframe"),this.overlaysView("dp-content"))},s.prototype.templateOverwrites=function(){let o=n.utils.getElementsByTag("script","data-dp-cookieIframe");o.length>0&&(n.popup.options.overlayLayout=o[0].innerHTML)},s.prototype.overlaysView=function(o){var e=n.utils.getElementsByTag(o);e.length!=0&&e.forEach(t=>{var i=t.getAttribute("data-cookieconsent-notice")||n.popup.options.content.media.notice,a=t.getAttribute("data-cookieconsent-description")||n.popup.options.content.media.desc,r=t.getAttribute("data-cookieconsent-btn")||n.popup.options.content.media.btn,c=t.getAttribute("data-cookieconsent");if(!t.hasAttribute("data-cookieconsent-overlay-loaded")){t.setAttribute("data-cookieconsent-overlay-loaded","loaded");var d=document.createElement("div");d.classList.add("dp--overlay");var p=n.popup.options.overlayLayout.replace("{{notice}}",i).replace("{{desc}}",a).replace("{{type}}",c).replace("{{btn}}",r);p=n.utils.appendElement.call(n.popup,p,d),p.getElementsByClassName("db--overlay-submit"),t.parentNode.insertBefore(d,t.nextSibling)}})},s.prototype.execute=function(o){this.executeIframe(o),this.executeContent(o)},s.prototype.ajax=function(o,e,t,i){var a=new XMLHttpRequest;a.open(o,e),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","text/html"),a.onload=function(){a.status<200||a.status>=300?i(a):t(a)},a.onerror=function(){i(a)},a.send()},s.prototype.executeContent=function(o){var e=n.utils.getElementsByTag("dp-content");e.length>0&&e.forEach(t=>{if(n.Handler.typeAllowed(t,o)){t.classList.add("dp--loaded"),t.setAttribute("data-cookieconsent-loaded",t.getAttribute("data-cookieconsent")),t.removeAttribute("data-cookieconsent");var i=t.getAttribute("data-src");i&&i.length>0?this.ajax("GET",i,function(a){t.innerHTML=a.response,n.utils.fireEvent("dp--cookie-content",t)},function(a){}):n.utils.fireEvent("dp--cookie-content",t)}})},s.prototype.executeIframe=function(o){var e=n.utils.getElementsByTag("iframe");e.length>0&&e.forEach(t=>{if(n.Handler.typeAllowed(t,o)){var i=t.cloneNode(!0);i.getAttribute("data-src")&&(i.src=i.getAttribute("data-src")),t.parentNode.replaceChild(i,t),i.classList.add("dp--loaded"),i.setAttribute("data-cookieconsent-loaded",i.getAttribute("data-cookieconsent")),i.removeAttribute("data-cookieconsent"),n.utils.fireEvent("dp--cookie-iframe",i)}})},new s}();n.Overlay=f;var h=function(){function s(){}return s.prototype.execute=function(o){var e=n.utils.getElementsByTag("script");e.length>0&&e.forEach(t=>{if(this.typeAllowed(t,o)){var i=t.innerHTML;i&&i.length&&(i=i.trim()),i&&i.length?(eval.call(this,i),n.utils.fireEvent("dp--cookie-fire",t)):t.getAttribute("data-src")?this.asyncJS(t.getAttribute("data-src"),function(a){n.utils.fireEvent("dp--cookie-fire",t)}):t.src&&this.asyncJS(t.src,function(a){n.utils.fireEvent("dp--cookie-fire",t)}),t.setAttribute("data-cookieconsent-loaded",t.getAttribute("data-cookieconsent")),t.removeAttribute("data-cookieconsent")}})},s.prototype.asyncLoad=function(o,e,t){var i=document,a=i.createElement(e),r=i.getElementsByTagName(e)[0];switch(e){case"script":a.src=o,a.setAttribute("defer","");break;case"link":a.rel="stylesheet",a.type="text/css",a.setAttribute("defer",""),a.href=o;break}t&&a.addEventListener("load",function(c){t(null,c)},!1),r.parentNode.insertBefore(a,r)},s.prototype.asyncJS=function(o,e){this.asyncLoad(o,"script",e)},s.prototype.typeAllowed=function(o,e){var t=o.getAttribute("data-cookieconsent"),i=e.map(a=>{if(a.name==t&&a.checked===!0)return!0});return i.indexOf(!0)!==-1},new s}();n.Handler=h,n.initialise=function(s,o){if(o||(o=function(){}),n.popup.initialise(s),n.Overlay.overlays(),o(n.popup),n.utils.fireEvent("dp--cookie-init"),n.popup.hasConsent()||l.detectRobot(navigator.userAgent)){n.popup.close(),n.utils.fireEvent("dp--cookie-accept-init");return}n.popup.open()},n.forceAccept=function(s){var o=s.getAttribute("data-cookieconsent"),e=n.popup.compilance.querySelectorAll("input");e.length>0&&(e.forEach(t=>{var i=t.id;i=i.replace("dp--cookie-",""),n.popup.hasConsent()||(t.checked=!1),i==o&&(t.checked=!0)}),n.utils.fireEvent("dp--cookie-accept")),n.popup.save()},n.forceDeny=function(s){var o=s.getAttribute("data-cookieconsent"),e=n.popup.compilance.querySelectorAll("input");e.length>0&&e.forEach(t=>{var i=t.id;i=i.replace("dp--cookie-",""),n.popup.hasConsent()||(t.checked=!1),i==o&&(t.checked=!1)}),n.popup.save()},n.hasInitialised=!0,window.DPCookieConsent=n,window.addEventListener("load",function(){window.DPCookieConsent.initialise(window.cookieconsent_options||{}),window.DPCookieConsent.loaded=!0})}})(window.DPCookieConsent||{});
